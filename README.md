# VPS PRO MONOLITH


üöÄ –ó–∞–ø—É—Å–∫
Bash

curl -sSL [https://raw.githubusercontent.com/sheikerdc-del/VPS-PRO-MONOLITH/main/vps_monolith.sh](https://raw.githubusercontent.com/sheikerdc-del/VPS-PRO-MONOLITH/main/vps_monolith.sh) | sudo bash

> One-shot bootstrap –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è **production-ready private cloud** –Ω–∞ —á–∏—Å—Ç–æ–º Ubuntu-—Å–µ—Ä–≤–µ—Ä–µ.

![Lint Status](https://github.com/sheikerdc-del/VPS-PRO-MONOLITH/actions/workflows/lint.yml/badge.svg)
[![License: MIT](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Ubuntu](https://img.shields.io/badge/Ubuntu-22.04%20%7C%2024.04-E95420)]()
[![Docker](https://img.shields.io/badge/Docker-supported-2496ED)]()
[![Status](https://img.shields.io/badge/status-stable-brightgreen)]()
[![Release](https://img.shields.io/badge/release-v1.0-informational)]()


<img width="1536" height="1024" alt="shema" src="https://github.com/user-attachments/assets/8c81dafb-d26b-42fa-9369-7bc70295b6d4" />
---

# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ *.ru –¥–ª—è VPS PRO MONOLITH

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –¥–æ–º–µ–Ω–∞ ***.ru** –∫ —Å–µ—Ä–≤–µ—Ä—É **185.98.85.85**.

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –≤–∞—Ä–∏–∞–Ω—Ç)](#1-–±—ã—Å—Ç—Ä–∞—è-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–≤—ã–±–µ—Ä–∏—Ç–µ-–≤–∞—à-–≤–∞—Ä–∏–∞–Ω—Ç)
2. [–í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ Cloudflare (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)](#2-–≤–∞—Ä–∏–∞–Ω—Ç-1-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—á–µ—Ä–µ–∑-cloudflare-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
3. [–í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞](#3-–≤–∞—Ä–∏–∞–Ω—Ç-2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—É-—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞-–¥–æ–º–µ–Ω–∞)
4. [–ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Å –¥–æ–º–µ–Ω–æ–º](#4-–∑–∞–ø—É—Å–∫-—Å–∫—Ä–∏–ø—Ç–∞-—Å-–¥–æ–º–µ–Ω–æ–º)
5. [–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞](#5-–ø—Ä–æ–≤–µ—Ä–∫–∞-–∏-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞)
6. [–ü–æ–ª—É—á–µ–Ω–∏–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞](#6-–ø–æ–ª—É—á–µ–Ω–∏–µ-ssl-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞)
7. [–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#7-—á–∞—Å—Ç—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)

---

## 1. –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –≤–∞—Ä–∏–∞–Ω—Ç)

| –í–∞—Ä–∏–∞–Ω—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | SSL | –ó–∞—â–∏—Ç–∞ DDoS | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|---------|-----------|-----|-------------|--------------|
| **Cloudflare** | ‚≠ê –õ–µ–≥–∫–æ | ‚úÖ –ê–≤—Ç–æ | ‚úÖ –ï—Å—Ç—å | **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** |
| **–£ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞** | ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ | ‚úÖ –ê–≤—Ç–æ | ‚ùå –ù–µ—Ç | –ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ Cloudflare |

> üí° **–†–µ–∫–æ–º–µ–Ω–¥—É—é Cloudflare** ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ.

---

## 2. –í–∞—Ä–∏–∞–Ω—Ç 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ Cloudflare (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### üìç –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ Cloudflare

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [cloudflare.com](https://www.cloudflare.com/)
2. –ù–∞–∂–º–∏—Ç–µ **"Sign Up"** / **"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"**
3. –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

### üìç –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞

1. –í –ø–∞–Ω–µ–ª–∏ Cloudflare –Ω–∞–∂–º–∏—Ç–µ **"Add a Domain"**
2. –í–≤–µ–¥–∏—Ç–µ: `*.ru`
3. –ù–∞–∂–º–∏—Ç–µ **"Continue"**
4. –í—ã–±–µ—Ä–∏—Ç–µ **–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ (Free)** ‚Üí **"Continue"**

### üìç –®–∞–≥ 3: –°–º–µ–Ω–∞ NS-—Å–µ—Ä–≤–µ—Ä–æ–≤

Cloudflare –ø–æ–∫–∞–∂–µ—Ç –≤–∞–º –Ω–æ–≤—ã–µ NS-—Å–µ—Ä–≤–µ—Ä—ã. –ü—Ä–∏–º–µ—Ä:

```
ns1.cloudflare.com
ns2.cloudflare.com
```

**–í–∞–º –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å NS-—Å–µ—Ä–≤–µ—Ä—ã —É –≤–∞—à–µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞:**

| –†–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä | –ì–¥–µ –º–µ–Ω—è—Ç—å NS |
|-------------|---------------|
| **Reg.ru** | –î–æ–º–µ–Ω—ã ‚Üí *.ru ‚Üí DNS-—Å–µ—Ä–≤–µ—Ä—ã ‚Üí –ò–∑–º–µ–Ω–∏—Ç—å |
| **Nic.ru** | –î–æ–º–µ–Ω—ã ‚Üí *.ru ‚Üí –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí –ò–∑–º–µ–Ω–∏—Ç—å |
| **Beget** | –î–æ–º–µ–Ω—ã ‚Üí *.ru ‚Üí DNS-—Å–µ—Ä–≤–µ—Ä—ã ‚Üí –°–≤–æ–∏ NS |
| **Timeweb** | –î–æ–º–µ–Ω—ã ‚Üí *.ru ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Üí NS-—Å–µ—Ä–≤–µ—Ä—ã |
| **–î—Ä—É–≥–æ–π** | –ò—â–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "DNS", "–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ", "NS-—Å–µ—Ä–≤–µ—Ä—ã" |

**–ü—Ä–∏–º–µ—Ä –¥–ª—è Reg.ru:**
```
1. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç Reg.ru
2. –î–æ–º–µ–Ω—ã ‚Üí *.ru
3. DNS-—Å–µ—Ä–≤–µ—Ä—ã ‚Üí –ò–∑–º–µ–Ω–∏—Ç—å
4. –í—ã–±–µ—Ä–∏—Ç–µ "–£–∫–∞–∑–∞—Ç—å —Å–≤–æ–∏ DNS-—Å–µ—Ä–≤–µ—Ä—ã"
5. –í–ø–∏—à–∏—Ç–µ NS –æ—Ç Cloudflare
6. –ù–∞–∂–º–∏—Ç–µ "–ì–æ—Ç–æ–≤–æ"
```

> ‚è±Ô∏è **–í–∞–∂–Ω–æ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ NS-—Å–µ—Ä–≤–µ—Ä–æ–≤ –∑–∞–Ω–∏–º–∞–µ—Ç –æ—Ç 15 –º–∏–Ω—É—Ç –¥–æ 24 —á–∞—Å–æ–≤.

### üìç –®–∞–≥ 4: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ A-–∑–∞–ø–∏—Å–µ–π –≤ Cloudflare

1. –í –ø–∞–Ω–µ–ª–∏ Cloudflare –≤—ã–±–µ—Ä–∏—Ç–µ –¥–æ–º–µ–Ω `domshe.ru`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **DNS** ‚Üí **DNS Records**
3. –ù–∞–∂–º–∏—Ç–µ **"Add Record"**

**–î–æ–±–∞–≤—å—Ç–µ –¥–≤–µ –∑–∞–ø–∏—Å–∏:**

| –¢–∏–ø | –ò–º—è (Name) | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ (Content) | Proxy |
|-----|------------|---------------------|-------|
| A | `@` | `185.98.85.85` | üü† Proxied |
| A | `*` | `185.98.85.85` | üü† Proxied |

**–ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Type  ‚îÇ  Name        ‚îÇ  Content        ‚îÇ  Proxy Status    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   A    ‚îÇ  *.ru   ‚îÇ  185.98.85.85   ‚îÇ  üü† Proxied      ‚îÇ
‚îÇ   A    ‚îÇ  *.*.ru ‚îÇ  185.98.85.85   ‚îÇ  üü† Proxied      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

> üü† **Proxied (–æ—Ä–∞–Ω–∂–µ–≤–æ–µ –æ–±–ª–∞–∫–æ)** ‚Äî –≤–∫–ª—é—á–∞–µ—Ç –∑–∞—â–∏—Ç—É Cloudflare –∏ CDN.

### üìç –®–∞–≥ 5: –ü–æ–ª—É—á–µ–Ω–∏–µ API-—Ç–æ–∫–µ–Ω–∞ Cloudflare (–¥–ª—è —Å–∫—Ä–∏–ø—Ç–∞)

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DNS —Å–∫—Ä–∏–ø—Ç–æ–º:

1. –í Cloudflare –ø–µ—Ä–µ–π–¥–∏—Ç–µ: **My Profile** ‚Üí **API Tokens**
2. –ù–∞–∂–º–∏—Ç–µ **"Create Token"**
3. –í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω: **"Edit zone DNS"**
4. –ù–∞–∂–º–∏—Ç–µ **"Continue to summary"**
5. –í—ã–±–µ—Ä–∏—Ç–µ –∑–æ–Ω—É: `*.ru`
6. –ù–∞–∂–º–∏—Ç–µ **"Create Token"**
7. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑!)

–ü—Ä–∏–º–µ—Ä —Ç–æ–∫–µ–Ω–∞: `vF5X8kLmN9pQrS2tUvWxYz3A4bC6dE7fG8hI9jK0`

### üìç –®–∞–≥ 6: –ü–æ–ª—É—á–µ–Ω–∏–µ Zone ID

1. –í –ø–∞–Ω–µ–ª–∏ Cloudflare –≤—ã–±–µ—Ä–∏—Ç–µ –¥–æ–º–µ–Ω `domshe.ru`
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑ –¥–æ **"API"**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Zone ID**

–ü—Ä–∏–º–µ—Ä Zone ID: `abc123xyz456def789ghi012jkl`

---

## 3. –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ–º–µ–Ω–∞

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Cloudflare.

### üìç –®–∞–≥ 1: –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

| –†–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä | –°—Å—ã–ª–∫–∞ |
|-------------|--------|
| Reg.ru | [reg.ru](https://www.reg.ru/) |
| Nic.ru | [nic.ru](https://www.nic.ru/) |
| Beget | [beget.com](https://beget.com/) |
| Timeweb | [timeweb.ru](https://timeweb.ru/) |

### üìç –®–∞–≥ 2: –ù–∞–π–¥–∏—Ç–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS

–ò—â–∏—Ç–µ —Ä–∞–∑–¥–µ–ª—ã:
- **DNS**
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–æ–Ω–æ–π**
- **DNS-–∑–∞–ø–∏—Å–∏**
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ DNS**

### üìç –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å–∏

| –¢–∏–ø | –ü–æ–¥–¥–æ–º–µ–Ω (Host) | IP-–∞–¥—Ä–µ—Å (Value) | TTL |
|-----|-----------------|------------------|-----|
| A | `@` –∏–ª–∏ `*.ru` | `185.98.85.85` | 3600 |
| A | `*` | `185.98.85.85` | 3600 |

**–ü—Ä–∏–º–µ—Ä –¥–ª—è Reg.ru:**
```
1. –î–æ–º–µ–Ω—ã ‚Üí *.ru ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS
2. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å ‚Üí –¢–∏–ø: A
3. –ü–æ–¥–¥–æ–º–µ–Ω: @
4. IP-–∞–¥—Ä–µ—Å: 185.98.85.85
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
6. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –ø–æ–¥–¥–æ–º–µ–Ω–∞: *
```

### üìç –®–∞–≥ 4: –î–æ–∂–¥–∏—Ç–µ—Å—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è DNS

–û–±—ã—á–Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç **–æ—Ç 15 –º–∏–Ω—É—Ç –¥–æ 24 —á–∞—Å–æ–≤**.

---

## 4. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Å –¥–æ–º–µ–Ω–æ–º

### üîπ –í–∞—Ä–∏–∞–Ω—Ç A: –° Cloudflare (–ø–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏!):
export VPS_UNATTENDED=1
export VPS_DOMAIN="*.ru"
export VPS_ADMIN_EMAIL="admin@*.ru"
export VPS_CF_TOKEN="jhguygjhbghjgjhgjhgjhgyjjygjygjy"
export VPS_CF_ZONE="abc123xyz456def789ghi012jkl"
export VPS_TG_TOKEN="123456:ABC-DEF..."        # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
export VPS_TG_CHAT="987654321"                 # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
curl -fsSL https://raw.githubusercontent.com/sheikerdc-del/VPS-PRO-MONOLITH/main/vps_monolith.sh | sudo bash
```

### üîπ –í–∞—Ä–∏–∞–Ω—Ç B: –ë–µ–∑ Cloudflare (—Ç–æ–ª—å–∫–æ DNS —É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
export VPS_UNATTENDED=1
export VPS_DOMAIN="*.ru"
export VPS_ADMIN_EMAIL="admin@*.ru"
export VPS_SKIP_DNS=1                          # ‚Üê –Ω–µ –æ–±–Ω–æ–≤–ª—è—Ç—å Cloudflare

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
curl -fsSL https://raw.githubusercontent.com/sheikerdc-del/VPS-PRO-MONOLITH/main/vps_monolith.sh | sudo bash
```

### üîπ –í–∞—Ä–∏–∞–Ω—Ç C: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π (—Å –≤–æ–ø—Ä–æ—Å–∞–º–∏)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–ª—å–∫–æ –¥–æ–º–µ–Ω:
export VPS_DOMAIN="*.ru"
export VPS_ADMIN_EMAIL="admin@*.ru"

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ (—Å–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç –æ—Å—Ç–∞–ª—å–Ω–æ–µ):
curl -fsSL https://raw.githubusercontent.com/sheikerdc-del/VPS-PRO-MONOLITH/main/vps_monolith.sh | sudo bash
```

---

## 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ A-–∑–∞–ø–∏—Å—å:
nslookup *.ru

# –ò–ª–∏:
dig *.ru +short

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:
185.98.85.85
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ wildcard:
nslookup test.*.ru

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:
185.98.85.85
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
curl -I https://*.ru

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
HTTP/2 200
strict-transport-security: max-age=31536000
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–û—Ç–∫—Ä–æ–π—Ç–µ:
- `https://*.ru:8000` ‚Äî Coolify
- `https://*.ru:9443` ‚Äî Portainer
- `https://*.ru:3001` ‚Äî Uptime Kuma

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç –ø–æ–¥–¥–æ–º–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
> - `coolify.*.ru`
> - `portainer.*.ru`
> - `kuma.domshe.ru`
> - `traefik.*.ru`

---

## 6. –ü–æ–ª—É—á–µ–Ω–∏–µ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

### üü¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç)

–°–∫—Ä–∏–ø—Ç —Å–∞–º –ø–æ–ª—É—á–∏—Ç SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- ‚úÖ –î–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω (A-–∑–∞–ø–∏—Å—å –Ω–∞ 185.28.85.85)
- ‚úÖ –ü–æ—Ä—Ç—ã 80 –∏ 443 –æ—Ç–∫—Ä—ã—Ç—ã
- ‚úÖ Email —É–∫–∞–∑–∞–Ω –≤ `VPS_ADMIN_EMAIL`

### üü° –í—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å)

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Traefik:
docker restart traefik

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
docker logs traefik | grep -i "certificate"

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ:
docker exec traefik traefik --help
```

### üî¥ –ï—Å–ª–∏ SSL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:
nslookup domshe.ru

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã:
ufw status | grep -E "80|443"

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Traefik:
docker logs traefik --tail 50

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Traefik:
docker restart traefik

# 5. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç (Let's Encrypt rate limits)
```

---

## 7. –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: DNS –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** NS-—Å–µ—Ä–≤–µ—Ä—ã –Ω–µ –∏–∑–º–µ–Ω–µ–Ω—ã –∏–ª–∏ –∫—ç—à DNS.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π DNS –∫—ç—à:

# Windows:
ipconfig /flushdns

# macOS:
sudo dscacheutil -flushcache

# Linux:
sudo systemd-resolve --flush-caches

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤–∏—Å:
# https://dnschecker.org/
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: SSL –Ω–µ –≤—ã–¥–∞—ë—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—Ç 80 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ DNS –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 80:
curl -I http://domshe.ru

# –†–∞–∑—Ä–µ—à–∏—Ç–µ –≤ UFW:
ufw allow 80/tcp
ufw allow 443/tcp

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Cloudflare (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ):
# SSL/TLS ‚Üí Overview ‚Üí Full (–Ω–µ Flexible!)
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: Cloudflare –æ—à–∏–±–∫–∞ 521/522

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∏–ª–∏ SSL —Ä–µ–∂–∏–º –Ω–µ–≤–µ—Ä–Ω—ã–π.

**–†–µ—à–µ–Ω–∏–µ:**
1. –í Cloudflare: **SSL/TLS** ‚Üí **Overview** ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ **Full** –∏–ª–∏ **Full (Strict)**
2. –ù–µ –≤—ã–±–∏—Ä–∞–π—Ç–µ **Flexible** (–≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç-—Ü–∏–∫–ª)
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç: `curl -I http://185.98.85.85`

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–¥–¥–æ–º–µ–Ω—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç wildcard A-–∑–∞–ø–∏—Å–∏.

**–†–µ—à–µ–Ω–∏–µ:**
```
–î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å—å –≤ DNS:
–¢–∏–ø: A
–ò–º—è: *
–ó–Ω–∞—á–µ–Ω–∏–µ: 185.98.85.85
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç Cloudflare DNS

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–ª–∏ Zone ID.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω:
curl -X GET "https://api.cloudflare.com/client/v4/user/tokens/verify" \
  -H "Authorization: Bearer –í–ê–®_–¢–û–ö–ï–ù"

# –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: {"success":true,...}

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Zone ID:
curl -X GET "https://api.cloudflare.com/client/v4/zones/–í–ê–®_ZONE_ID" \
  -H "Authorization: Bearer –í–ê–®_–¢–û–ö–ï–ù"
```

---

## üìé –®–ø–∞—Ä–≥–∞–ª–∫–∞: –≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –î–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (Cloudflare)

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Ñ–∞–π–ª setup.sh:
#!/bin/bash
export VPS_UNATTENDED=1
export VPS_DOMAIN="domshe.ru"
export VPS_ADMIN_EMAIL="admin@domshe.ru"
export VPS_CF_TOKEN="–í–ê–®_–¢–û–ö–ï–ù_CLOUDFLARE"
export VPS_CF_ZONE="–í–ê–®_ZONE_ID"
export VPS_SSH_PORT=2222
export VPS_SERVICES="docker,traefik,coolify,monitoring,security,backups"

curl -fsSL https://raw.githubusercontent.com/sheikerdc-del/VPS-PRO-MONOLITH/main/vps_monolith.sh | sudo bash
```

**–ó–∞–ø—É—Å–∫:**
```bash
chmod +x setup.sh
sudo ./setup.sh
```

### –î–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (–±–µ–∑ Cloudflare)

```bash
export VPS_UNATTENDED=1
export VPS_DOMAIN="domshe.ru"
export VPS_ADMIN_EMAIL="admin@domshe.ru"
export VPS_SKIP_DNS=1
export VPS_SERVICES="docker,traefik,coolify,monitoring,security,backups"

curl -fsSL https://raw.githubusercontent.com/sheikerdc-del/VPS-PRO-MONOLITH/main/vps_monolith.sh | sudo bash
```

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

```
‚ñ° NS-—Å–µ—Ä–≤–µ—Ä—ã –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ Cloudflare (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ)
‚ñ° A-–∑–∞–ø–∏—Å—å @ ‚Üí 185.28.85.85 –¥–æ–±–∞–≤–ª–µ–Ω–∞
‚ñ° A-–∑–∞–ø–∏—Å—å * ‚Üí 185.28.85.85 –¥–æ–±–∞–≤–ª–µ–Ω–∞
‚ñ° DNS –æ–±–Ω–æ–≤–∏–ª—Å—è (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ nslookup)
‚ñ° –ü–æ—Ä—Ç—ã 80 –∏ 443 –æ—Ç–∫—Ä—ã—Ç—ã
‚ñ° VPS_DOMAIN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ "domshe.ru"
‚ñ° VPS_ADMIN_EMAIL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
‚ñ° VPS_CF_TOKEN –∏ VPS_CF_ZONE (–µ—Å–ª–∏ Cloudflare)
‚ñ° SSH-–¥–æ—Å—Ç—É–ø –ø–æ –ø–æ—Ä—Ç—É 2222 –ø—Ä–æ–≤–µ—Ä–µ–Ω
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–∞—à–∏ —Å–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ:

| –°–µ—Ä–≤–∏—Å | URL |
|--------|-----|
| **Coolify** | `https://coolify.domshe.ru` |
| **Portainer** | `https://portainer.domshe.ru` |
| **Uptime Kuma** | `https://kuma.domshe.ru` |
| **Traefik Dashboard** | `https://traefik.domshe.ru` |
| **Supabase** | `postgresql://domshe.ru:54321` |

**–£–¥–∞—á–∏ —Å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º! üöÄ**

---

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –∏–∑ `/opt/monolith/` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ –±—ç–∫–∞–ø—ã!
